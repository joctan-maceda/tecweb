<!DOCTYPE html >
<html>

  <head>
    <meta charset="utf-8" >
    <title>Registro de productos</title>
    <style type="text/css">
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 50%;
            margin: 50px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            color: #333;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
        }

        input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: #218838;
        }

        .error {
            color: red;
            font-size: 12px;
            margin-top: 10px;
        }

        .success {
            color: green;
            font-size: 12px;
            margin-top: 10px;
        }
    </style>
  </head>

  <body>
    <h1>Registro de &ldquo;productos&rdquo;</h1>

    <form id="formularioProductos" action="set_product.php" method="post">

    <h2>Datos del producto</h2>

      <fieldset>
        <ul>
            <li><label for="form-name">Nombre:</label> <input type="text" name="nombre" id="nombre"></li>
            <li><label for="form-marca">Marca:</label> <input type="text" name="marca" id="marca"></li>
            <li><label for="form-modelo">Modelo:</label> <input type="text" name="modelo" id="modelo"></li>
            <li><label for="form-precio">Precio:</label> <input type="text" name="precio" id="precio"></li>
            <li><label for="form-name">Detalles:</label> <textarea name="detalles" rows="4" cols="60" id="detalles" placeholder="No más de 300 caracteres de longitud"></textarea></li>
            <li><label for="form-unidades">Unidades:</label> <input type="text" name="unidades" id="unidades"></li>
            <li><label for="form-imagen">Imagen:</label> <input type="text" name="imagen" id="imagen"></li>     
        </ul>
      </fieldset>

            
      <p>
        <input type="submit" value="Enviar">
        <input type="reset">
      </p>

    </form>
    <script>
      document.getElementById('formularioProductos').addEventListener('submit', function(event) {
      let nombre = document.getElementById('nombre').value;
      let marca = document.getElementById('marca').value;
      let modelo = document.getElementById('modelo').value;
      let precio = document.getElementById('precio').value;
      let detalles = document.getElementById('detalles').value;
      let unidades = document.getElementById('unidades').value;
      let imagen = document.getElementById('imagen').value;
        // Validación del nombre
      if (nombre.trim() === "" || nombre.length > 100) {
          alert("El nombre es requerido y debe tener 100 caracteres o menos.");
          event.preventDefault();
          return;
      }

      // Validación de la marca
      if (marca === "") {
          alert("Debe seleccionar una marca.");
          event.preventDefault();
          return;
      }

      // Validación del modelo
      let modeloRegex = /^[A-Za-z0-9]+$/;
      if (modelo.trim() === "" || modelo.length > 25 || !modeloRegex.test(modelo)) {
          alert("El modelo es requerido, debe ser alfanumérico y tener 25 caracteres o menos.");
          event.preventDefault();
          return;
      }

      // Validación del precio
      if (precio === "" || parseFloat(precio) <= 99.99) {
          alert("El precio es requerido y debe ser mayor a 99.99.");
          event.preventDefault();
          return;
      }

      // Validación de los detalles
      if (detalles.length > 250) {
          alert("Los detalles deben tener 250 caracteres o menos.");
          event.preventDefault();
          return;
      }

      // Validación de las unidades
      if (unidades === "" || parseInt(unidades) < 0) {
          alert("Las unidades son requeridas y deben ser mayores o iguales a 0.");
          event.preventDefault();
          return;
      }

      // Validación de la imagen
      if (imagen.trim() === "") {
          imagen = "ruta_por_defecto.jpg"; // Ruta de la imagen por defecto
          document.getElementById('imagen').value = imagen;
      }

      alert("Producto registrado exitosamente.");
    });
    </script>
  </body>
</html>